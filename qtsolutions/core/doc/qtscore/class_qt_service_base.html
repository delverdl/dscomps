<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Qt Solutions Core: QtServiceBase Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Qt Solutions Core
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">QtServiceBase Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The <a class="el" href="class_qt_service_base.html" title="The QtServiceBase class provides an API for implementing Windows services and Unix daemons.">QtServiceBase</a> class provides an API for implementing Windows services and Unix daemons.  
 <a href="class_qt_service_base.html#details">More...</a></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The <a class="el" href="class_qt_service_base.html" title="The QtServiceBase class provides an API for implementing Windows services and Unix daemons.">QtServiceBase</a> class provides an API for implementing Windows services and Unix daemons. </p>
<p>A Windows service or Unix daemon (a "service"), is a program that runs "in the background" independently of whether a user is logged in or not. A service is often set up to start when the machine boots up, and will typically run continuously as long as the machine is on.</p>
<p>Services are usually non-interactive console applications. User interaction, if required, is usually implemented in a separate, normal GUI application that communicates with the service through an IPC channel. For simple communication, QtServiceController::sendCommand() and QtService::processCommand() may be used, possibly in combination with a shared settings file. For more complex, interactive communication, a custom IPC channel should be used, e.g. based on Qt's networking classes. (In certain circumstances, a service may provide a GUI itself, ref. the "interactive" example documentation).</p>
<p>Typically, you will create a service by subclassing the <a class="el" href="class_qt_service.html" title="The QtService is a convenient template class that allows you to create a service for a particular app...">QtService</a> template class which inherits <a class="el" href="class_qt_service_base.html" title="The QtServiceBase class provides an API for implementing Windows services and Unix daemons.">QtServiceBase</a> and allows you to create a service for a particular application type.</p>
<p>The Windows implementation uses the NT Service Control Manager, and the application can be controlled through the system administration tools. Services are usually launched using the system account, which requires that all DLLs that the service executable depends on (i.e. Qt), are located in the same directory as the service, or in a system path.</p>
<p>On Unix a service is implemented as a daemon.</p>
<p>You can retrieve the service's description, state, and startup type using the serviceDescription(), serviceFlags() and startupType() functions respectively. The service's state is decribed by the ServiceFlag enum. The mentioned properites can also be set using the corresponding set functions. In addition you can retrieve the service's name using the serviceName() function.</p>
<p>Several of <a class="el" href="class_qt_service_base.html" title="The QtServiceBase class provides an API for implementing Windows services and Unix daemons.">QtServiceBase</a>'s protected functions are called on requests from the <a class="el" href="class_qt_service_controller.html" title="The QtServiceController class allows you to control services from separate applications.">QtServiceController</a> class:</p>
<p>\list \o start() \o pause() \o processCommand() \o resume() \o stop() \endlist</p>
<p>You can control any given service using an instance of the <a class="el" href="class_qt_service_controller.html" title="The QtServiceController class allows you to control services from separate applications.">QtServiceController</a> class which also allows you to control services from separate applications. The mentioned functions are all virtual and won't do anything unless they are reimplemented. You can reimplement these functions to pause and resume the service's execution, as well as process user commands and perform additional clean-ups before shutting down.</p>
<p><a class="el" href="class_qt_service_base.html" title="The QtServiceBase class provides an API for implementing Windows services and Unix daemons.">QtServiceBase</a> also provides the static instance() function which returns a pointer to an application's <a class="el" href="class_qt_service_base.html" title="The QtServiceBase class provides an API for implementing Windows services and Unix daemons.">QtServiceBase</a> instance. In addition, a service can report events to the system's event log using the logMessage() function. The MessageType enum describes the different types of messages a service reports.</p>
<p>The implementation of a service application's main function typically creates an service object derived by subclassing the <a class="el" href="class_qt_service.html" title="The QtService is a convenient template class that allows you to create a service for a particular app...">QtService</a> template class. Then the main function will call this service's exec() function, and return the result of that call. For example:</p>
<div class="fragment"><div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv)</div>
<div class="line">{</div>
<div class="line">    MyService service(argc, argv);</div>
<div class="line">    <span class="keywordflow">return</span> service.exec();</div>
<div class="line">}</div>
</div><!-- fragment --><p>When the exec() function is called, it will parse the service specific arguments passed in <code>argv</code>, perform the required actions, and return.</p>
<p>\target serviceSpecificArguments</p>
<p>The following arguments are recognized as service specific:</p>
<p>\table \header \i Short \i Long \i Explanation \row \i -i \i -install \i Install the service. \row \i -u \i -uninstall \i Uninstall the service. \row \i -e \i -exec \i Execute the service as a standalone application (useful for debug purposes). This is a blocking call, the service will be executed like a normal application. In this mode you will not be able to communicate with the service from the contoller. \row \i -t \i -terminate \i Stop the service. \row \i -p \i -pause \i Pause the service. \row \i -r \i -resume \i Resume a paused service. \row \i -c <em></em>{cmd} \i -command <em></em>{cmd} \i Send the user defined command code <em></em>{cmd} to the service application. \row \i -v \i -version \i Display version and status information. \endtable</p>
<p>If <em>none</em> of the arguments is recognized as service specific, exec() will first call the createApplication() function, then executeApplication() and finally the start() function. In the end, exec() returns while the service continues in its own process waiting for commands from the service controller.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="class_qt_service.html" title="The QtService is a convenient template class that allows you to create a service for a particular app...">QtService</a>, <a class="el" href="class_qt_service_controller.html" title="The QtServiceController class allows you to control services from separate applications.">QtServiceController</a> </dd></dl>
</div><hr/>The documentation for this class was generated from the following file:<ul>
<li>qtservice.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.16
</small></address>
</body>
</html>
